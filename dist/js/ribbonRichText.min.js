/*! spcustomform 2017-09-14 */

!function(t,e,n,i){function r(e){if(e&&t.isArray(e)){var n="";return t.each(e,function(e,i){var r=t("script[src*='"+i+"']");if(r.length>0){var o=r.attr("src"),s=o.lastIndexOf("/");return n=o.substr(0,s+1),!1}}),n}return"/_layouts/15/"}function o(e,n){function i(){"undefined"!=typeof g_all_modules&&void 0!==g_all_modules["sp.ui.rte.js"]||0!=t("#spuirtejs").length||t('<script id="spuirtejs" type="text/javascript" src="'+r+'sp.ui.rte.js"><\/script>').appendTo("body"),ExecuteOrDelayUntilScriptLoaded(function(){e()},"sp.ui.rte.js")}var r=n||"/_layouts/15/";parseInt(_spPageContextInfo.siteClientTag.match(/\$\$(\d{2})\./i)[1],10)>=16&&("undefined"==typeof g_all_modules||void 0===g_all_modules["ms.rte.js"])&&0==t("#msrtejs").length?(t('<script id="msrtejs" type="text/javascript" src="'+r+'ms.rte.js"><\/script>').appendTo("body"),ExecuteOrDelayUntilScriptLoaded(function(){i()},"ms.rte.js")):i()}function s(){var e=_ribbonInitFunc1.toString(),n=/'RibbonContainer',/.exec(e);if(-1==e.indexOf("'WSSRTE': true")){var i=e.indexOf("}",n.index);e=(e=(e=e.substr(0,i)+", 'Ribbon.Table.Design': true, 'Ribbon.RcaTabGroup.Rca': true, 'Ribbon.Image.Image': true, 'Ribbon.Table.Layout': true, 'Ribbon.WebPartOption': true, 'Ribbon.WebPartInsert.Tab': true, 'Ribbon.EditingTools.CPInsert': true, 'Ribbon.EditingTools.CPEditTab': true, 'Ribbon.Link.Link': true"+e.substr(i)).replace("{'PublishTabTrimmingVisibilityContext':true,'WSSPageStateVisibilityContext':true}, false, 0, false","{'WSSRTE': true,'PublishTabTrimmingVisibilityContext':true,'WSSPageStateVisibilityContext':true}, true, 0, false")).replace("'SP.Ribbon.PageManager.get_instance()', false, null, null, null,","'SP.Ribbon.PageManager.get_instance()', false, { 'Ribbon.EditingTools': true }, null, null,"),t("<script>"+e+"<\/script>").appendTo("body"),_ribbonDataInit("Ribbon.EditingTools",!0),_ribbonDataInit("Ribbon.EditingTools.CPEditTab",!1)}_ribbonStartInit("Ribbon.Read",!1,null),SP.SOD.executeOrDelayUntilScriptLoaded(function(){SP.Ribbon.PageManager.get_instance().get_ribbon()||_ribbonStartInit("Ribbon.Read",!1,null)},"sp.ribbon.js")}t.fn.spHtmlEditor=function(e){if(e&&("gethtml"==e||"gethtml"==e.method)){var n=t(".edit-content",this).attr("id");return RTE.RichTextEditor.transferContentsToInputField(n),t("input[type='hidden']",this).val()}var i=t.extend(t.fn.spHtmlEditor.defaults,e);return t(this).each(function(){return function(e,n){t.fn.spHtmlEditor.load[n.version](function(){if(s(),"add"==n.method){var i=t(e).html(),r=t(e).html("").attr("id");"string"!=typeof r&&(r="rte-client-"+t.fn.spHtmlEditor.idCnt,t(e).attr("id",r),t.fn.spHtmlEditor.idCnt++);var o=t(n.template).appendTo(e).addClass(n.className),a=r+"_editor",l=r+"_content",d=r+"_nocontent",u=t("input[type='hidden']",o).attr("id",l).val(i),b=t(".no-content",o).attr("id",d).attr("name",d).html(n.noContentHtml),c=t(".edit-content",o).attr("id",a).attr("InputFieldId",l).attr("EmptyPanelId",d).attr("AllowScripts","true").html(i);o.attr("RteRedirect",a),n.prefixStylesheet&&n.prefixStylesheetUrl&&(c[0].PrefixStyleSheet=n.prefixStylesheet,c[0].StyleSheet=n.prefixStylesheetUrl),RTE.Canvas.fixRegion(a,!1),i&&""!=i?b.hide():c.hide(),c.html(i),function(e,n,i){t("form").submit(function(){RTE.RichTextEditor.transferContentsToInputField(e);for(var r=n.html(),o=t("#"+e);!o.hasClass("ms-WPBody")&&0!=(o=o.parent()).length;);i(r,e,o,o.attr("id"))})}(a,u,n.callback)}else if("sethtml"==n.method&&n.html){var p=t(".edit-content",e),f=p.attr("id");p.html(n.html),RTE.RichTextEditor.transferContentsToInputField(f)}else if("remove"==n.method){f=t(".edit-content",e).attr("id");RTE.RichTextEditor.transferContentsToInputField(f);var m=t("input[type='hidden']",e).val();t(e).html(m)}})}(this,i)})},t.fn.spHtmlEditor.idCnt=0,t.fn.spHtmlEditor.defaults={noContentHtml:"<span>Click here to Edit</span>",template:"<div><div class='DCContentBlock'><div class='DCContent'> <div class='edit-content ms-rtestate-write ms-rtestate-field goo-edit-part' contentEditable='true'></div><div class='no-content'></div></div></div><input type='hidden' /></div>",callback:function(t,e,n,i){},className:"",version:"o365",method:"add",prefixStylesheet:null,prefixStylesheetUrl:null},t.fn.spHtmlEditor.load={o365:function(t,e){o(t,e||r(["init.js"]))},onprem:o},null==_spBodyOnLoadFunctionNames||_spBodyOnLoadCalled?EnsureScripts([["SP.Ribbon.js","SP.Ribbon",!0],["SP.Publishing.Resources.resx","SP.Publishing.Resources",!1],["SP.UI.Pub.Ribbon.js","Pub.Ribbon",!0]],PublishingRibbonUpdateRibbon):_spBodyOnLoadFunctionNames.push("EnsurePublishingConsoleActionScripts")}(jQuery,document,window);